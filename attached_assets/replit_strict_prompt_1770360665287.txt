ЖЁСТКИЙ ПРОМПТ ДЛЯ REPLIT — ЗАПРЕТ ПЕРЕСЧЁТОВ В RUNTIME

СДЕЛАЙ РЕФАКТОРИНГ текущего проекта. ВАЖНО: запрещено рассчитывать
equity/ранги в рантайме приложения.

ЦЕЛЬ Страница rankings должна работать только из предрасчитанной базы.
Любые симуляции или переборы во время работы сайта — запрещены.

АБСОЛЮТНЫЕ ЗАПРЕТЫ 1) НЕЛЬЗЯ запускать Monte‑Carlo, перебор бордов или
перебор рук оппонента: - при загрузке страницы - при поиске или
фильтрах - при вводе руки - при сборке фронта - при старте сервера

2)  НЕЛЬЗЯ лениво догружать и считать по мере скролла.

3)  НЕЛЬЗЯ пересчитывать ранги на лету из equity.

АРХИТЕКТУРА — СТРОГО ДВА ЭТАПА

(A) OFFLINE PRECOMPUTE (ОДИН РАЗ) Создай отдельный скрипт:
    scripts/precompute_rankings.(py|js|rs|cpp)

Он должен: - Сгенерировать данные - Создать файл базы:
data/plo5_rankings.sqlite ИЛИ public/plo5_rankings.bin ИЛИ
public/plo5_rankings.json.gz

Структура записи: - hand_key (канонический ключ руки) -
equity_vs_random - percentile_rank (0..100)

После выполнения скрипта файл фиксируется и используется только для
чтения.

(B) ONLINE LOOKUP (В ПРИЛОЖЕНИИ) Страница rankings должна:

-   Загружать готовые данные один раз
-   Делать только поиск, фильтрацию и сортировку
-   Мгновенно отображать rank и equity
-   НЕ выполнять никаких симуляций

ACCEPTANCE TESTS (ОБЯЗАТЕЛЬНО)

1)  Если файла базы нет: Приложение должно показать ошибку: “Rankings
    database not found. Run scripts/precompute_rankings first.” И НЕ
    пытаться считать.

2)  В runtime‑коде не должно быть: simulate, montecarlo,
    enumerateBoards, equityCalc и любых вычислений equity.

3)  Добавь счётчик вызовов calculation engine: При обычном использовании
    сайта он всегда равен 0.

ЧТО НУЖНО ВЫДАТЬ В ОТВЕТ 1) Обновлённую структуру проекта (tree) 2) Код
scripts/precompute_rankings 3) Код чтения базы в приложении 4) Короткую
инструкцию запуска предрасчёта и деплоя
